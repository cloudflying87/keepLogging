(this.webpackJsonpkeep_logging=this.webpackJsonpkeep_logging||[]).push([[0],{172:function(e,t,a){},173:function(e,t,a){e.exports=a.p+"static/media/logoSmall.80f51e00.png"},180:function(e,t,a){e.exports=a(417)},185:function(e,t,a){},186:function(e,t,a){},203:function(e,t,a){},205:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},316:function(e,t){},318:function(e,t){},329:function(e,t){},331:function(e,t){},358:function(e,t){},360:function(e,t){},361:function(e,t){},367:function(e,t){},369:function(e,t){},387:function(e,t){},389:function(e,t){},401:function(e,t){},404:function(e,t){},409:function(e,t,a){},410:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),i=a.n(r),c=a(31),o=a(7),u=a(16),s=a(1),d=a(8),m=(a(185),function(e){var t=e.text,a=e.handleClick,n=e.btnId,r=e.btnClass;return l.a.createElement("button",{onClick:a,id:n,className:r},t)}),p=(a(186),function(e){var t=e.label,a=e.labelFor,n=e.name,r=e.type,i=e.inputId,c=e.inputClass,o=e.placeholder,u=e.handleInputChange,s=e.value,d=e.size;return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:a},t),l.a.createElement("input",{name:n,type:r,id:i,className:c,placeholder:o,onChange:u,value:s,size:d}))}),f=a(5),h=a.n(f),g=function(e){return h.a.post("/api/aircraft/",e)},b=function(){return h.a.get("api/aircraftTypes/")},E=function(){return h.a.get("api/aircraftModels/")},v=function(e){return h.a.get("/api/airport/"+e.airport)},I=function(e,t,a){return h.a.get("/api/nighttime?date="+e._i+"&lat="+t+"&long="+a)},C=function(){return h.a.get("/api/flight_time/")},y=function(e){return h.a.post("/api/flight_time",e)},N=function(e,t){return h.a.put("/api/flight_time/update/"+e,t)},O=function(e){return h.a.delete("/api/flight_time/delete/".concat(e))},j=function(){return h.a.get("/api/flight_times/totals/")},F=function(e){return h.a.post("/api/login",e)},A=function(e){return h.a.post("/api/signup",e)},x=function(){return h.a.get("/logout")},k=function(){return h.a.get("/api/user_data")},w=function(e){return h.a.post("/api/verifyAccount",e)},L=function(e,t){return h.a.post("/api/addAccess",e,t)},T=function(e,t){return h.a.post("/api/sendMail",e,t)},D=(a(203),function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(d.a)(t,2),r=a[0],i=a[1];Object(n.useEffect)((function(){}),[]);var c=function(e){var t=e.target,a=t.value,n=t.name;i((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},n,a))}))};return l.a.createElement("main",{className:"signupWrapper"},l.a.createElement("form",{className:"signupForm"},l.a.createElement("div",{className:"formDiv1"},l.a.createElement(p,{label:"email",labelFor:"email",type:"text",inputId:"email",placeholder:"email",handleInputChange:c,name:"email",className:"inputBox"}),l.a.createElement(p,{label:"password",labelFor:"password",type:"password",inputId:"password",placeholder:"Password",handleInputChange:c,name:"password",className:"inputBox"})),l.a.createElement("div",{className:"formDiv2"},l.a.createElement(m,{text:"Sign up",btnId:"signUp",btnClass:"authBtn",handleClick:function(t){t.preventDefault(),A({email:r.email,password:r.password}).then((function(t){e.history.push("/logbook")})).catch((function(e){i((function(t){return Object(s.a)(Object(s.a)({},t),{},{error:e})}))}))}}),l.a.createElement(m,{text:"Log in",btnId:"logIn",btnClass:"authBtn",handleClick:function(t){t.preventDefault(),F({email:r.email,password:r.password}).then((function(t){t.data;e.history.push("/logbook")})).catch((function(e){i((function(t){return Object(s.a)(Object(s.a)({},t),{},{error:e})}))}))}}))),r.error&&l.a.createElement("h1",null,r.error.message))}),M=a(6),B=a.n(M),S=a(17),z=(a(205),a(173)),R=a.n(z),P=function(e){e.children;var t=Object(n.useState)({open:!1,width:window.innerWidth}),a=Object(d.a)(t,2),r=a[0],i=a[1];Object(n.useEffect)((function(){function e(){i((function(e){return Object(s.a)(Object(s.a)({},e),{},{width:window.innerWidth})}))}return window.addEventListener("resize",e),function(t){window.removeEventListener("resize",e)}}),[r.width,r.open]);return l.a.createElement("nav",null,l.a.createElement("div",{className:"logoDiv"},l.a.createElement("img",{src:R.a,alt:"keep_logging logo"}),l.a.createElement("div",{className:"burger"},l.a.createElement("i",{className:"fas fa-bars",onClick:function(){i((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!e.open})}));var e=document.querySelector("i");document.querySelector("ul").classList.toggle("navActive"),e.classList.toggle("fa-times"),e.classList.toggle("fa-bars")}}))),l.a.createElement("ul",{className:"navList"},l.a.createElement("li",null,l.a.createElement(c.b,{to:"/logbook"},"Logbook")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/aircraft"},"Aircraft")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/airports"},"Airports")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/training"},"Training")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/myProfile"},"My Profile")),l.a.createElement("li",null,l.a.createElement(c.b,{onClick:function(){return x()},to:"/"},"Logout"))))},_=(a(210),a(50)),W=a(418),H=function(e){var t=e.handleFormInput,a=e.handleAddFlight,r=e.handleClick,i=e.value,c=e.setAircraft,o=e.text,u=(e.aircraftList,Object(n.useState)(!1)),f=Object(d.a)(u,2),h=f[0],g=f[1];Object(n.useEffect)((function(){g(!0)}),[]);var b={option:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{color:t.isSelected&&"blue"})},control:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{width:"auto",height:"15px",color:"purple"})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(s.a)(Object(s.a)({},e),{},{opacity:a,transition:"opacity 1300ms"})}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(W.a,{in:h,timeout:1e3,classNames:"form",onEnter:function(){return g(!0)}},l.a.createElement("form",null,l.a.createElement("h4",{className:"header"},"General Flight Info"),l.a.createElement("div",{className:"inputDiv threeboxes"},l.a.createElement(p,{labelFor:"date",label:"Date",name:"date",type:"date",inputId:"dateInput",inputClass:"addFlightInput",placeholder:"date",handleInputChange:t,value:i.date}),l.a.createElement(_.a,{options:i.aircraftList,labelFor:"aircraftType",label:"Aircraft Type",name:"aircraftType",inputId:"aircraftTypeInput",inputClass:"addFlightInput dropdown",placeholder:i["Aircraft.tailNumber"]?i["Aircraft.tailNumber"]:"Aircraft Type",width:"200px",styles:b,onChange:c}),l.a.createElement(p,{labelFor:"route",label:"Route",name:"route",type:"text",inputId:"routeInput",inputClass:"addFlightInput",placeholder:"Route",handleInputChange:t,value:i.route})),l.a.createElement("div",{className:"commentsDiv"},l.a.createElement("textarea",{label:"Comments",name:"comments",type:"text-area",id:"commentsInput",className:"addFlightInput",placeholder:"comments",onChange:t,rows:4,cols:40,value:i.comments})),l.a.createElement("div",{className:"inputDiv gfi3"},l.a.createElement(p,{labelFor:"flightNum",label:"Flight Number",name:"flightNum",type:"text",inputId:"flightNumberInput",inputClass:"addFlightInput",placeholder:"Flight Num",handleInputChange:t,size:6,value:i.flightNum}),l.a.createElement(p,{labelFor:"depTime",label:"Dep Time",name:"depTime",type:"text",inputId:"departureTimeInput",inputClass:"addFlightInput",placeholder:"Dep Time",handleInputChange:t,size:6,value:i.depTime}),l.a.createElement(p,{labelFor:"arrTime",label:"Arr Time",name:"arrTime",type:"text",inputId:"arrivalTimeInput",inputClass:"addFlightInput",placeholder:"Arr Time",handleInputChange:t,size:6,value:i.arrTime}),l.a.createElement(m,{text:"Auto Fill",btnId:"autoFill",className:"formBtn",handleClick:r})),l.a.createElement("h4",{className:"header"},"Approaches and Landings"),l.a.createElement("div",{className:"appLandDiv"},l.a.createElement(p,{labelFor:"iap",label:"Approach",name:"iap",type:"text",inputId:"approachInput",inputClass:"addFlightInput",placeholder:"Approach",handleInputChange:t,size:4,value:i.iap}),l.a.createElement(p,{labelFor:"holds",label:"hold",name:"holds",type:"text",inputId:"holdInput",inputClass:"addFlightInput",placeholder:"Hold",handleInputChange:t,size:2,value:i.holds}),l.a.createElement(p,{labelFor:"landings",label:"landings",name:"landings",type:"text",inputId:"landingsInput",inputClass:"addFlightInput",placeholder:"Landings",handleInputChange:t,size:4,value:i.landings}),l.a.createElement(p,{labelFor:"dayLdg",label:"dayLandings",name:"dayLdg",type:"text",inputId:"dayLandingsInput",inputClass:"addFlightInput",placeholder:"Day Landings",handleInputChange:t,size:4,value:i.dayLdg}),l.a.createElement(p,{labelFor:"nightLdg",label:"nightLandings",name:"nightLdg",type:"text",inputId:"nightLandingsInput",inputClass:"addFlightInput",placeholder:"Night Landings",handleInputChange:t,size:4,value:i.nightLdg})),l.a.createElement("h4",{className:"header"},"Times"),l.a.createElement("div",null,l.a.createElement("div",{className:"timesDivRow1"},l.a.createElement(p,{labelFor:"total",label:"total",name:"total",type:"text",inputId:"totalInput",inputClass:"addFlightInput",placeholder:"Total",handleInputChange:t,size:3,value:i.total}),l.a.createElement(p,{labelFor:"cxt",label:"crossCountry",name:"cxt",type:"text",inputId:"crossCountryInput",inputClass:"addFlightInput",placeholder:"xCountry",handleInputChange:t,size:3,value:i.cxt}),l.a.createElement(p,{labelFor:"night",label:"night",name:"night",type:"text",inputId:"nightInput",inputClass:"addFlightInput",placeholder:"Night",handleInputChange:t,size:3,value:i.night}),l.a.createElement(p,{labelFor:"imc",label:"imc",name:"imc",type:"text",inputId:"imcInput",inputClass:"addFlightInput",placeholder:"IMC",handleInputChange:t,size:3,value:i.imc}),l.a.createElement(p,{labelFor:"hood",label:"hood",name:"hood",type:"text",inputId:"hoodInput",inputClass:"addFlightInput",placeholder:"Hood",handleInputChange:t,size:3,value:i.hood})),l.a.createElement("div",{className:"timesDivRow2"},l.a.createElement(p,{labelFor:"pic",label:"pic",name:"pic",type:"text",inputId:"picInput",inputClass:"addFlightInput",placeholder:"PIC",handleInputChange:t,size:3,value:i.pic}),l.a.createElement(p,{labelFor:"sic",label:"sic",name:"sic",type:"text",inputId:"sicInput",inputClass:"addFlightInput",placeholder:"SIC",handleInputChange:t,size:3,value:i.sic}),l.a.createElement(p,{labelFor:"cfi",label:"cfi",name:"cfi",type:"text",inputId:"cfiInput",inputClass:"addFlightInput",placeholder:"CFI",handleInputChange:t,size:3,value:i.cfi}),l.a.createElement(p,{labelFor:"dualI",label:"dual",name:"dualI",type:"text",inputId:"dualInput",inputClass:"addFlightInput",placeholder:"Dual",handleInputChange:t,size:3,value:i.dualI}),l.a.createElement(p,{labelFor:"solo",label:"solo",name:"solo",type:"text",inputId:"soloInput",inputClass:"addFlightInput",placeholder:"Solo",handleInputChange:t,size:3,value:i.solo}))),l.a.createElement("div",{className:"btnWrapper"},l.a.createElement(m,{text:o,btnId:"createFlightBtn",className:"formBtn",handleClick:a})))))},U=(a(211),function(e){var t=e.openModal,a=e.flights,r=Object(n.useState)(),i=Object(d.a)(r,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){o(!0)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(W.a,{in:c,timeout:2e3,className:"enter",unmountOnExit:!0},l.a.createElement("div",{className:"table"},l.a.createElement("div",{className:"tableHeader"},!!a.length&&Object.keys(a[0]).filter((function(e){return"id"!==e})).map((function(e,t){return l.a.createElement("h5",{key:t,className:"col"+t,name:e},e)}))),l.a.createElement("div",{className:"tableBody"},!!a.length&&a.map((function(e,a){return l.a.createElement("div",{key:a+"-row",id:e.id,className:"tableCol",onClick:t},l.a.createElement("div",{className:"dateCol",id:e.id},e.Date),l.a.createElement("div",{className:"aircraftCol",id:e.id},e.Aircraft),l.a.createElement("div",{className:"routeCol",id:e.id},e.Route),l.a.createElement("div",{className:"commentsCol",id:e.id},e.Comments),l.a.createElement("div",{className:"totalCol",id:e.id},e.Total))}))))))}),Y=(a(212),function(e){var t=e.handleClick,a=e.openEdit,n=e.deleteBtn,r=e.results;return l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modalContent"},l.a.createElement(m,{btnClass:"modalBtn",btnId:"closeModal",text:"X",handleClick:t}),l.a.createElement("ul",{className:"modalUl"},l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Date:")," ",r.date),!!r["Aircraft.tailNumber"]&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Aircraft:")," ",r["Aircraft.tailNumber"]),!!r.route&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Route:")," ",r.route),!!r.flightNum&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Flight Number")," ",r.flightNum),!!r.landings&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Landings:")," ",r.landings),!!r.imc&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"IMC:")," ",r.imc),!!r.hood&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Hood:")," ",r.hood),!!r.iap&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"IAP:")," ",r.iap),!!r.holds&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Holds:")," ",r.holds),!!r.pic&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"PIC:")," ",r.pic),!!r.sic&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"SIC:")," ",r.sic),!!r.cfi&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"CFI:")," ",r.cfi),!!r.dualI&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Dual:")," ",r.cfi),!!r.cxt&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Cross Country:")," ",r.cxt),!!r.solo&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Solo:")," ",r.solo),!!r.total&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Total:")," ",r.total),!!r.dayLdg&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Day Landings:")," ",r.dayLdg),!!r.night&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Night:")," ",r.night),!!r.nightLdg&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Night Landings:")," ",r.nightLdg),!!r.instructor&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Instructor:")," ",r.instructor),!!r.student&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Student:")," ",r.student)),l.a.createElement(m,{text:"Edit",btnId:"editBtn",className:"editAndDeleteBtns",handleClick:function(){return a(r.id)}}),l.a.createElement(m,{text:"Delete",btnId:"deleteBtn",className:"editAndDeleteBtns",handleClick:function(){return n(r.id)}})))}),Z=a(94),q=function(e){var t=e.totals,a={xCountry:t.cxt,pic:t.pic,sic:t.sic,cfi:t.cfi,dualI:t.dualI,solo:t.solo,total:t.total,night:t.night},n={PIC:t.pic,SIC:t.sic,CFI:t.cfi,"Dual I":t.dualI},r={labels:Object.keys(a),datasets:[{label:"Hours",backgroundColor:"rgba(255,255,255,.8)",borderColor:"rgba(0,26,200,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:Object.values(a)}]},i={labels:Object.keys(n),datasets:[{data:Object.values(n),backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]};return l.a.createElement("div",null,l.a.createElement("h2",null,"Totals"),l.a.createElement(Z.Bar,{data:r,options:{maintainAspectRatio:!0}}),l.a.createElement("h2",null,"Pilot Times"),l.a.createElement(Z.Pie,{data:i}))},J=(a(309),function(e){var t=e.totals;return l.a.createElement("div",{className:"totalsList"},l.a.createElement(q,{totals:t}),l.a.createElement("ul",null,!!t.cxt&&l.a.createElement("li",null,l.a.createElement("strong",null,"Cross Country")," ",t.cxt),!!t.night&&l.a.createElement("li",null,l.a.createElement("strong",null,"Night")," ",t.night),!!t.imc&&l.a.createElement("li",null,l.a.createElement("strong",null,"IMC")," ",t.imc),!!t.hood&&l.a.createElement("li",null,l.a.createElement("strong",null,"Simulated Instrument")," ",t.hood),!!t.iap&&l.a.createElement("li",null,l.a.createElement("strong",null,"Instrument Approaches")," ",t.iap),!!t.holds&&l.a.createElement("li",null,l.a.createElement("strong",null,"Holds")," ",t.holds),!!t.dayLdg&&l.a.createElement("li",null,l.a.createElement("strong",null,"Day Landings")," ",t.dayLdg),!!t.nightLdg&&l.a.createElement("li",null,l.a.createElement("strong",null,"Night Landings")," ",t.nightLdg),!!t.solo&&l.a.createElement("li",null,l.a.createElement("strong",null,"Solo")," ",t.solo),!!t.dualI&&l.a.createElement("li",null,l.a.createElement("strong",null,"Instruction Received")," ",t.dualI),!!t.pic&&l.a.createElement("li",null,l.a.createElement("strong",null,"PIC")," ",t.pic),!!t.sic&&l.a.createElement("li",null,l.a.createElement("strong",null,"SIC")," ",t.sic),!!t.cfi&&l.a.createElement("li",null,l.a.createElement("strong",null,"CFI")," ",t.cfi),!!t.total&&l.a.createElement("li",null,l.a.createElement("strong",null,"Total")," ",t.total)))}),G=Object(n.createContext)({userId:""}),K=a(14),V=a.n(K),X=(a(310),[]),$=[],Q=!1,ee=function(){var e,t=Object(n.useState)({open:!1,btnClicked:"",fullResults:[],mapped:[],totals:[]}),a=Object(d.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)((e={date:V()().format("YYYY-MM-D"),total:"",crossCountry:"",night:"",arrTime:"",depTime:"",cfi:"",comments:"",dayLdg:"",dualI:"",route:"",flightNum:"",holds:"",hood:"",iap:"",imc:"",instructor:"",landings:"",nightLdg:"",pic:"",sic:"",solo:"",student:""},Object(u.a)(e,"total",""),Object(u.a)(e,"cxt",""),Object(u.a)(e,"aircraftId",""),Object(u.a)(e,"aircraftType",""),Object(u.a)(e,"aircraftList",[]),Object(u.a)(e,"Aircraft.tailNumber",""),e)),o=Object(d.a)(c,2),p=o[0],f=o[1],h=Object(n.useState)({open:!1,values:[]}),g=Object(d.a)(h,2),E=g[0],F=g[1],A=Object(n.useState)({userId:""}),w=Object(d.a)(A,2),L=w[0],T=w[1];Object(n.useEffect)((function(){D(),k().then((function(e){T({userId:e.data.id})})).catch((function(e){console.error(e)})),R()}),[]);var D=function(){C().then((function(e){var t=e.data.map((function(e){return{Date:e.date,Aircraft:e["Aircraft.tailNumber"],Route:e.route,Comments:e.comments,Total:e.total,id:e.id}}));i((function(a){return Object(s.a)(Object(s.a)({},a),{},{fullResults:e.data,mapped:t})}))})).catch((function(e){console.log(e),window.location.href="/"}))},M=function(e){f((function(t){return Object(s.a)(Object(s.a)({},t),{},{AircraftId:e.value})}))},z=function(e){var t=e.target,a=t.value,n=t.name;f((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},n,a))}))},R=function(){b().then((function(e){for(var t=e.data,a=[],n=[],l=0;l<t.length;l++)n.includes(t[l].AircraftId)||null!=t[l]["Aircraft.tailNumber"]&&(a.push(t[l]),n.push(t[l].AircraftId));var r=a.map((function(e){return{value:e.AircraftId,label:e["Aircraft.tailNumber"]+" "+e["Aircraft.AircraftModel.description"]}})).sort((function(e,t){return e.label>t.label?1:t.label>e.label?-1:0}));f((function(e){return Object(s.a)(Object(s.a)({},e),{},{aircraftList:r})}))}))},_=function(){var e=Object(S.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),void 0!==p.route&&void 0!==p.depTime&&void 0!==p.arrTime){e.next=3;break}return e.abrupt("return",alert("Need to fill in Route, Departure Time and Arrival Time"));case 3:return e.next=5,W();case 5:return e.next=7,K();case 7:return e.next=9,te();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(S.a)(B.a.mark((function e(){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=p.route.split(" "),a=0;case 2:if(!(a<t.length)){e.next=8;break}return e.next=5,Z(t[a]);case 5:a++,e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Z(e){return q.apply(this,arguments)}function q(){return(q=Object(S.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).then(function(){var e=Object(S.a)(B.a.mark((function e(t){var a,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,n=Object.values(a[0]),X.push(parseFloat(n[8],10),parseFloat(n[9],10));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(console.error);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(){var e=Object(S.a)(B.a.mark((function e(){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=-1,a=0;a<X.length/2;a+=2)t++,ee(X[a],X[a+1],X[a+2],X[a+3]),$[t]>50&&(Q=!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(S.a)(B.a.mark((function e(t,a,n,l){var r,i,c,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:3440.07,t*=Math.PI/180,a*=Math.PI/180,n*=Math.PI/180,l*=Math.PI/180,r=l-a,i=Math.pow(Math.cos(n)*Math.sin(r),2)+Math.pow(Math.cos(t)*Math.sin(n)-Math.sin(t)*Math.cos(n)*Math.cos(r),2),c=Math.sin(t)*Math.sin(n)+Math.cos(t)*Math.cos(n)*Math.cos(r),o=Math.atan2(Math.sqrt(i),c),$.push(3440.07*o);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n,l){return e.apply(this,arguments)}}(),te=function(){var e=Object(S.a)(B.a.mark((function e(){var t,a,n,l,r,i,c,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1,!1,t="",a="",0,l=V.a.utc(p.date),r=l._i,i=p.depTime,c=p.arrTime,"Invalid Date"==new Date(i)?(t=V.a.utc(r+" "+i),!0):t=V.a.utc(i),"Invalid Date"==new Date(c)?(a=V.a.utc(r+" "+c+":00Z"),!0):a=V.a.utc(c),o=V.a.duration(a.diff(t)),n=ce(o._milliseconds),ne(t,a,n);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=[];function ne(e,t,a){return le.apply(this,arguments)}function le(){return(le=Object(S.a)(B.a.mark((function e(t,a,n){var l,r,i,c,o,u;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=X.length,console.log(),e.next=4,re(t,X[0],X[1]);case 4:return e.next=6,re(a,X[r-2],X[r-1]);case 6:i=ae[1],c=ae[2],o=ae[5],u=ae[6],console.log("dep ",i," depart ",t),(l=t.isBefore(i)&&a.isBefore(o)||t.isAfter(c)&&a.isAfter(u)?n:t.isBefore(i)&&a.isAfter(o)?ce(V.a.duration(i.diff(t))):t.isBefore(c)&&a.isAfter(u)?ce(a-u):0)>n&&(l=n),console.log(l),f((function(e){return Object(s.a)(Object(s.a)({},e),{},{total:n,cxt:Q?n:0,night:l})}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,a){return ie.apply(this,arguments)}function ie(){return(ie=Object(S.a)(B.a.mark((function e(t,a,n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,a,n).then((function(e){var t=e.data,a=V.a.utc(t.dawn),n=V.a.utc(t.sunrise),l=V.a.utc(t.sunset),r=V.a.utc(t.dusk);ae.push(a,n,l,r)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){var t=e,a=Math.floor(t/1e3/60/60),n=(t-=1e3*a*60*60)/1e3/60/60;return t-=1e3*n*60,t-=1e3*Math.floor(t/1e3),(a+n).toFixed(2)}var oe=function(e){var t={};Object.keys(p).forEach((function(e){t[e]=p[e]?p[e]:null})),e.preventDefault(),y({date:t.date,route:t.route,comments:p.comments,flightNum:t.flightNum,depTime:t.depTime,arrTime:t.arrTime,landings:t.landings,iap:t.iap,cxt:t.cxt,holds:t.holds,dayLdg:t.dayLdg,nightLdg:t.nightLdg,total:t.total,night:t.night,imc:t.imc,hood:t.hood,pic:t.pic,sic:t.sic,cfi:t.cfi,dualI:t.dualI,solo:t.solo,UserId:L.userId,AircraftId:t.AircraftId}).then((function(e){console.log("logFlight data: ",e),se(),D()})).catch((function(e){return console.log(e)}))},ue=function(e){e.preventDefault();var t={};Object.keys(p).forEach((function(e){t[e]=p[e]?p[e]:null})),N(E.values.id,{date:t.date,route:t.route,comments:p.comments,flightNum:t.flightNum,depTime:t.depTime,arrTime:t.arrTime,landings:t.landings,iap:t.iap,cxt:t.cxt,holds:t.holds,dayLdg:t.dayLdg,nightLdg:t.nightLdg,total:t.total,night:t.night,imc:t.imc,hood:t.hood,pic:t.pic,sic:t.sic,cfi:t.cfi,dualI:t.dualI,solo:t.solo,UserId:L.userId,AircraftId:t.AircraftId,"Aircraft.tailNumber":t["Aircraft.tailNumber"]}).catch((function(e){return console.error(e)})),se(),D()},se=function(){f((function(e){return Object(s.a)(Object(s.a)({},e),{},{date:V()().format("YYYY-MM-D"),total:"",crossCountry:"",night:"",arrTime:"",depTime:"",cfi:"",comments:"",dayLdg:"",dualI:"",route:"",flightNum:"",holds:"",hood:"",iap:"",imc:"",instructor:"",landings:"",nightLdg:"",pic:"",sic:"",solo:"",student:"",tailNumber:"",cxt:"",aircraftId:"","Aircraft.tailNumber":""})}))},de=function(e){var t=e.target;i((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!e.open,btnClicked:t.id})}))};return l.a.createElement(G.Provider,{value:L},l.a.createElement("div",null,E.open&&!!E.values&&l.a.createElement(Y,{key:E.values.id,results:E.values,openEdit:function(e){var t=r.fullResults.find((function(t){return parseInt(t.id)===e})),a={};console.log("selected",t),t&&(Object.keys(p).forEach((function(e){a[e]=t[e]})),f(a),R(),console.log(p),F((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!E.open})})),i(Object(s.a)(Object(s.a)({},r),{},{open:!0,btnClicked:"editBtn"})),window.scrollTo(0,0))},deleteBtn:function(e){O(e).then(D()).catch((function(e){return console.log(e)})),F((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!E.open})}))},handleClick:function(e){e.preventDefault(),F((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!E.open})}))}}),l.a.createElement(P,null),l.a.createElement("div",{className:"menuDiv"},l.a.createElement(m,{text:"Add Flight",btnId:"addFlightBtn",btnClass:"menuBtn",handleClick:de}),l.a.createElement(m,{text:"Search",btnId:"searchBtn",btnClass:"menuBtn",handleClick:de}),l.a.createElement(m,{text:"Totals",btnId:"totalsBtn",btnClass:"menuBtn",handleClick:function(e){de(e),j().then((function(e){var t=e.data;i((function(e){return Object(s.a)(Object(s.a)({},e),{},{totals:t[0]})}))})).catch((function(e){return console.error(e)}))}}),l.a.createElement(m,{text:"Logout",btnId:"logout",btnClass:"menuBtn",handleClick:function(e){e.preventDefault(),console.log("logout"),console.log(r.btnClicked),x().then(window.location.href="/").catch((function(e){return console.error(e)}))}})),l.a.createElement("div",{className:"formDiv"},r.open?function(e){switch(e){case"addFlightBtn":return l.a.createElement(l.a.Fragment,null,l.a.createElement(H,{handleFormInput:z,handleClick:_,handleAddFlight:oe,setAircraft:M,value:p,text:"Add Flight"}));case"totalsBtn":return l.a.createElement(J,{totals:r.totals});case"editBtn":return l.a.createElement(l.a.Fragment,null,l.a.createElement(H,{handleFormInput:z,handleClick:_,handleAddFlight:ue,setAircraft:M,value:p,text:"Update Flight"}));default:return null}}(r.btnClicked):null),l.a.createElement("main",null,l.a.createElement(U,{openModal:function(e){e.preventDefault();var t=e.target;F((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!E.open,values:r.fullResults.find((function(e){return parseInt(e.id)===parseInt(t.id)}))})}))},flights:r.mapped}))))},te=a(176),ae=a.n(te),ne=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(d.a)(i,2),o=c[0],u=c[1];Object(n.useEffect)((function(){a&&o&&u(!1)}),[a]);var s=function(){var e=Object(S.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(a),a){e.next=4;break}return e.abrupt("return",u(!0));case 4:try{ae.a.generate(),w({studentEmail:a}).then((function(e){console.log("Matching user",e),k({}).then((function(e){console.log("Logged in user",e),T({email:a,user:e})})).catch((function(e){return console.log(e)}))}))}catch(n){console.error(n)}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("main",null,l.a.createElement("form",{onSubmit:s},l.a.createElement(p,{type:"text",id:"student-email-input",placeholder:"Student Email",label:"Student Email",handleInputChange:function(e){var t=e.target.value;return r(t)}}),l.a.createElement("button",{id:"add-student",type:"submit"},"Add Student")),o&&l.a.createElement("div",null,"Please enter a valid email")))},le=(a(409),function(e){var t=e.aircraft;return l.a.createElement("div",{className:"tableBody"},!!t.length&&t.map((function(e,t){return l.a.createElement("div",{key:t+"-row",id:e.id,className:"tableRow"},l.a.createElement("div",{className:"aircraft",id:e.id},e.tailNumber," ",e.description))})))}),re=(a(410),function(e){var t=e.addT,a=e.setAircraft,n=e.value,r=e.handleFormInput;return l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("h4",{className:"header"},"Aircraft Information"),l.a.createElement("div",{className:"inputDiv"},l.a.createElement(p,{labelFor:"tailNumber",label:"tailNumber",name:"tailNumber",type:"tailNumber",inputId:"tailNumber",inputClass:"addFlightInput",placeholder:"Tail Number",handleInputChange:r}),l.a.createElement(_.a,{options:n.allModels,labelFor:"aircraftType",label:"Aircraft Type",name:"aircraftType",inputId:"aircraftTypeInput",inputClass:"addFlightInput dropdown",onChange:a})),l.a.createElement("div",{className:"btnWrapper"},l.a.createElement(m,{text:"Add Airplane",btnId:"createAircraftBtn",className:"formBtn",handleClick:t}))))}),ie=function(){var e=Object(n.useState)({open:!1,btnClicked:"",userCurrentAircraft:[],tailNumber:"",modelId:0}),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)({userId:""}),c=Object(d.a)(i,2),o=c[0];c[1];Object(n.useEffect)((function(){f(),p()}),[]);var p=function(){E().then((function(e){var t=e.data.map((function(e){return{value:e.id,label:e.manufacture_code+" "+e.description+" "+e.category_class}}));r((function(e){return Object(s.a)(Object(s.a)({},e),{},{allModels:t})}))}))},f=function(){b().then((function(e){for(var t=e.data,a=[],n=[],l=0;l<t.length;l++)n.includes(t[l].AircraftId)||null!=t[l]["Aircraft.tailNumber"]&&(a.push(t[l]),n.push(t[l].AircraftId));var i=a.map((function(e){return{id:e.AircraftId,modelId:e["Aircraft.AircraftModel.id"],tailNumber:e["Aircraft.tailNumber"],description:e["Aircraft.AircraftModel.description"],category_class:e["Aircraft.AircraftModel.category_class"]}})).sort((function(e,t){return e.tailNumber>t.tailNumber?1:t.tailNumber>e.tailNumber?-1:0}));r((function(e){return Object(s.a)(Object(s.a)({},e),{},{userCurrentAircraft:i})}))})).catch(console.error)},h=function(e){var t=e.target,a=t.value,n=t.name;r((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},n,a))}))},v=function(e){e.preventDefault(),g({tailNumber:a.tailNumber,AircraftModelId:a.modelId}).then((function(e){console.log(a),console.log(e)})).catch(console.error)},I=function(e){r((function(t){return Object(s.a)(Object(s.a)({},t),{},{modelId:e.value})}))};return l.a.createElement(G.Provider,{value:o},l.a.createElement(P,null),l.a.createElement("div",{className:"menuDiv"},l.a.createElement(m,{text:"Add Aircraft",btnId:"Addaircraft",btnClass:"menuBtn",handleClick:function(e){var t=e.target;r((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!e.open,btnClicked:t.id})}))}})),l.a.createElement("div",{className:"formDiv"},a.open?function(e){switch(e){case"Addaircraft":return l.a.createElement(l.a.Fragment,null,l.a.createElement(re,{handleFormInput:h,addT:v,value:a,setAircraft:I}));case"modelBtn":break;default:return null}}(a.btnClicked):null),l.a.createElement(le,{aircraft:a.userCurrentAircraft}))},ce=(a(172),function(e){var t=e.handleClick,a=e.handleFormInput;return l.a.createElement("div",null,l.a.createElement("div",{className:"inputDiv"},l.a.createElement(p,{labelFor:"airport",label:"airport",name:"airport",type:"airport",inputId:"airport",inputClass:"addFlightInput",placeholder:"Enter ICAO Identifier",handleInputChange:a,onChange:a}),l.a.createElement(m,{text:"Find Airport",btnId:"viewAirport",className:"formBtn",handleClick:t})))}),oe=a(177),ue=(a(415),function(e){return{scaleControl:!0,gestureHandling:"greedy",disableDoubleClickZoom:!0,minZoom:11,maxZoom:17,mapTypeControl:!0,mapTypeId:e.MapTypeId.SATELLITE,mapTypeControlOptions:{style:e.MapTypeControlStyle.HORIZONTAL_BAR,position:e.ControlPosition.BOTTOM_CENTER,mapTypeIds:[e.MapTypeId.ROADMAP,e.MapTypeId.SATELLITE,e.MapTypeId.HYBRID]},zoomControl:!0}}),se=function(e){var t=e.location,a=e.zoomLevel;return l.a.createElement("div",null,l.a.createElement("div",{style:{height:"50vh",width:"100%"}},l.a.createElement(oe.a,{bootstrapURLKeys:{key:""},center:t,zoom:a,options:ue})))},de=function(){var e=Object(n.useState)({open:0,btnClicked:"",userCurrentAircraft:[],airport:"",modelId:0,google:""}),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)({userId:""}),c=Object(d.a)(i,2),o=c[0];c[1];return l.a.createElement(G.Provider,{value:o},l.a.createElement(P,null),l.a.createElement("div",{className:"menuDiv"},l.a.createElement(ce,{handleFormInput:function(e){var t=e.target,a=t.value;t.name;r((function(e){return Object(s.a)(Object(s.a)({},e),{},{airport:a})}))},handleClick:function(){v({airport:a.airport}).then((function(e){var t=e.data.map((function(e){return{icao:e.icao,name:e.name,iata:e.iata,city:e.city,state:e.state,country:e.country,lat:e.lat,long:e.lon,elevation:e.elevation}}));console.log(t),r((function(e){return Object(s.a)(Object(s.a)({},e),{},{airportInfo:t,open:!0})}))})).catch(console.error)},value:a})),l.a.createElement("div",{className:"formDiv"},a.open?function(e){if(0===e.length)return l.a.createElement("div",{className:"airport"},l.a.createElement("h1",null,"No Airport Found. Try again. "));var t=[];return t.push(parseFloat(e[0].lat,10),parseFloat(e[0].long,10)),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"airport"},l.a.createElement("h1",null,e[0].name),l.a.createElement("h2",null,e[0].city+" "+e[0].state+" "+e[0].country),l.a.createElement("h2",null,"Elevation: ",e[0].elevation)),l.a.createElement("div",null,l.a.createElement(se,{location:t,zoomLevel:13})))}(a.airportInfo):l.a.createElement("div",{className:"airport"},l.a.createElement("h1",null,"Search for an airport by ICAO code"))))},me=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",null,l.a.createElement("h1",null,"My Profile Coming Soon")))},pe=function(e){return L({key:e.match.params.key,studentEmail:e.match.params.studentEmail}),console.log("validate.js line 26-key",e.match.params.key),console.log("validate.js line 27-studentEmail",e.match.params.studentEmail),l.a.createElement("h1",null,"Redirecting to home page")};a(416);var fe=function(){return l.a.createElement(c.a,null,l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/",component:D}),l.a.createElement(o.a,{exact:!0,path:"/logbook",component:ee}),l.a.createElement(o.a,{exact:!0,path:"/training",component:ne}),l.a.createElement(o.a,{exact:!0,path:"/Aircraft",component:ie}),l.a.createElement(o.a,{exact:!0,path:"/Airports",component:de}),l.a.createElement(o.a,{exact:!0,path:"/myProfile",component:me}),l.a.createElement(o.a,{exact:!0,path:"/redirect/:key/:studentEmail",component:pe})))},he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ge(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(fe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator||"serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");he?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ge(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ge(t,e)}))}}()}},[[180,1,2]]]);
//# sourceMappingURL=main.44d40499.chunk.js.map