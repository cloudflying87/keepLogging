(this.webpackJsonpkeep_logging=this.webpackJsonpkeep_logging||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),c=a.n(r),i=a(19),o=a(5),u=a(11),s=a(2),d=a(6),m=(a(85),function(e){var t=e.text,a=e.handleClick,n=e.btnId,r=e.btnClass;return l.a.createElement("button",{onClick:a,id:n,className:r},t)}),p=(a(86),function(e){var t=e.label,a=e.labelFor,n=e.name,r=e.type,c=e.inputId,i=e.inputClass,o=e.placeholder,u=e.handleInputChange,s=e.value,d=e.size;return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:a},t),l.a.createElement("input",{name:n,type:r,id:c,className:i,placeholder:o,onChange:u,value:s,size:d}))}),h=a(3),f=a.n(h),g=function(e){return f.a.post("/api/aircraft/",e)},b=function(){return f.a.get("api/aircraftTypes/")},E=function(){return f.a.get("api/aircraftModels/")},v=function(e){return f.a.get("/api/airport/"+e.airport)},I=function(e,t,a){return f.a.get("/api/nighttime?date="+e._i+"&lat="+t+"&long="+a)},C=function(){return f.a.get("/api/flight_time/")},O=function(e){return f.a.post("/api/flight_time",e)},y=function(e,t){return f.a.put("/api/flight_time/update/"+e,t)},N=function(e){return f.a.delete("/api/flight_time/delete/".concat(e))},j=function(){return f.a.get("/api/flight_times/totals/")},F=function(e){return f.a.post("/api/login",e)},x=function(e){return f.a.post("/api/signup",e)},A=function(){return f.a.get("/logout")},k=function(){return f.a.get("/api/user_data")},D=function(e){return f.a.post("/api/verifyAccount",e)},L=function(e,t){return f.a.post("/api/addAccess",e,t)},T=function(e,t,a){return f.a.post("/api/sendMail",e,t,a)},w=function(e,t){return f.a.post("/api/checkDuplicates",e,t)},B=(a(103),function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(d.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){}),[]);var i=function(e){var t=e.target,a=t.value,n=t.name;c((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},n,a))}))};return l.a.createElement("main",{className:"signupWrapper"},l.a.createElement("form",{className:"signupForm"},l.a.createElement("div",{className:"formDiv1"},l.a.createElement(p,{label:"email",labelFor:"email",type:"text",inputId:"email",placeholder:"email",handleInputChange:i,name:"email",className:"inputBox"}),l.a.createElement(p,{label:"password",labelFor:"password",type:"password",inputId:"password",placeholder:"Password",handleInputChange:i,name:"password",className:"inputBox"})),l.a.createElement("div",{className:"formDiv2"},l.a.createElement(m,{text:"Sign up",btnId:"signUp",btnClass:"authBtn",handleClick:function(t){t.preventDefault(),x({email:r.email,password:r.password}).then((function(t){e.history.push("/logbook")})).catch((function(e){c((function(t){return Object(s.a)(Object(s.a)({},t),{},{error:e})}))}))}}),l.a.createElement(m,{text:"Log in",btnId:"logIn",btnClass:"authBtn",handleClick:function(t){t.preventDefault(),F({email:r.email,password:r.password}).then((function(t){t.data;e.history.push("/logbook")})).catch((function(e){c((function(t){return Object(s.a)(Object(s.a)({},t),{},{error:e})}))}))}}))),r.error&&l.a.createElement("h1",null,r.error.message))}),M=a(4),S=a.n(M),z=a(12),R=(a(105),a(74)),_=a.n(R),P=function(e){e.children;var t=Object(n.useState)({open:!1,width:window.innerWidth}),a=Object(d.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){function e(){c((function(e){return Object(s.a)(Object(s.a)({},e),{},{width:window.innerWidth})}))}return window.addEventListener("resize",e),function(t){window.removeEventListener("resize",e)}}),[r.width,r.open]);return l.a.createElement("nav",null,l.a.createElement("div",{className:"logoDiv"},l.a.createElement("img",{src:_.a,alt:"keep_logging logo"}),l.a.createElement("div",{className:"burger"},l.a.createElement("i",{className:"fas fa-bars",onClick:function(){c((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!e.open})}));var e=document.querySelector("i");document.querySelector("ul").classList.toggle("navActive"),e.classList.toggle("fa-times"),e.classList.toggle("fa-bars")}}))),l.a.createElement("ul",{className:"navList"},l.a.createElement("li",null,l.a.createElement(i.b,{to:"/logbook"},"Logbook")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/aircraft"},"Aircraft")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/airports"},"Airports")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/training"},"Training")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/myProfile"},"My Profile")),l.a.createElement("li",null,l.a.createElement(i.b,{onClick:function(){return A()},to:"/"},"Logout"))))},H=(a(110),a(30)),Y=a(215),W=function(e){var t=e.handleFormInput,a=e.handleAddFlight,r=e.handleClick,c=e.value,i=e.setAircraft,o=e.text,u=(e.aircraftList,Object(n.useState)(!1)),h=Object(d.a)(u,2),f=h[0],g=h[1];Object(n.useEffect)((function(){g(!0)}),[]);var b={option:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{color:t.isSelected&&"blue"})},control:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{width:"auto",height:"15px",color:"purple"})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(s.a)(Object(s.a)({},e),{},{opacity:a,transition:"opacity 1300ms"})}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y.a,{in:f,timeout:1e3,classNames:"form",onEnter:function(){return g(!0)}},l.a.createElement("form",null,l.a.createElement("h4",{className:"header"},"General Flight Info"),l.a.createElement("div",{className:"inputDiv threeboxes"},l.a.createElement(p,{labelFor:"date",label:"Date",name:"date",type:"date",inputId:"dateInput",inputClass:"addFlightInput",placeholder:"date",handleInputChange:t,value:c.date}),l.a.createElement(H.a,{options:c.aircraftList,labelFor:"aircraftType",label:"Aircraft Type",name:"aircraftType",inputId:"aircraftTypeInput",inputClass:"addFlightInput dropdown",placeholder:c["Aircraft.tailNumber"]?c["Aircraft.tailNumber"]:"Aircraft Type",width:"200px",styles:b,onChange:i}),l.a.createElement(p,{labelFor:"route",label:"Route",name:"route",type:"text",inputId:"routeInput",inputClass:"addFlightInput",placeholder:"Route",handleInputChange:t,value:c.route})),l.a.createElement("div",{className:"commentsDiv"},l.a.createElement("textarea",{label:"Comments",name:"comments",type:"text-area",id:"commentsInput",className:"addFlightInput",placeholder:"comments",onChange:t,rows:4,cols:40,value:c.comments})),l.a.createElement("div",{className:"inputDiv gfi3"},l.a.createElement(p,{labelFor:"flightNum",label:"Flight Number",name:"flightNum",type:"text",inputId:"flightNumberInput",inputClass:"addFlightInput",placeholder:"Flight Num",handleInputChange:t,size:6,value:c.flightNum}),l.a.createElement(p,{labelFor:"depTime",label:"Dep Time",name:"depTime",type:"text",inputId:"departureTimeInput",inputClass:"addFlightInput",placeholder:"Dep Time",handleInputChange:t,size:6,value:c.depTime}),l.a.createElement(p,{labelFor:"arrTime",label:"Arr Time",name:"arrTime",type:"text",inputId:"arrivalTimeInput",inputClass:"addFlightInput",placeholder:"Arr Time",handleInputChange:t,size:6,value:c.arrTime}),l.a.createElement(m,{text:"Auto Fill",btnId:"autoFill",className:"formBtn",handleClick:r})),l.a.createElement("h4",{className:"header"},"Approaches and Landings"),l.a.createElement("div",{className:"appLandDiv"},l.a.createElement(p,{labelFor:"iap",label:"Approach",name:"iap",type:"text",inputId:"approachInput",inputClass:"addFlightInput",placeholder:"Approach",handleInputChange:t,size:4,value:c.iap}),l.a.createElement(p,{labelFor:"holds",label:"hold",name:"holds",type:"text",inputId:"holdInput",inputClass:"addFlightInput",placeholder:"Hold",handleInputChange:t,size:2,value:c.holds}),l.a.createElement(p,{labelFor:"landings",label:"landings",name:"landings",type:"text",inputId:"landingsInput",inputClass:"addFlightInput",placeholder:"Landings",handleInputChange:t,size:4,value:c.landings}),l.a.createElement(p,{labelFor:"dayLdg",label:"dayLandings",name:"dayLdg",type:"text",inputId:"dayLandingsInput",inputClass:"addFlightInput",placeholder:"Day Landings",handleInputChange:t,size:4,value:c.dayLdg}),l.a.createElement(p,{labelFor:"nightLdg",label:"nightLandings",name:"nightLdg",type:"text",inputId:"nightLandingsInput",inputClass:"addFlightInput",placeholder:"Night Landings",handleInputChange:t,size:4,value:c.nightLdg})),l.a.createElement("h4",{className:"header"},"Times"),l.a.createElement("div",null,l.a.createElement("div",{className:"timesDivRow1"},l.a.createElement(p,{labelFor:"total",label:"total",name:"total",type:"text",inputId:"totalInput",inputClass:"addFlightInput",placeholder:"Total",handleInputChange:t,size:3,value:c.total}),l.a.createElement(p,{labelFor:"cxt",label:"crossCountry",name:"cxt",type:"text",inputId:"crossCountryInput",inputClass:"addFlightInput",placeholder:"xCountry",handleInputChange:t,size:3,value:c.cxt}),l.a.createElement(p,{labelFor:"night",label:"night",name:"night",type:"text",inputId:"nightInput",inputClass:"addFlightInput",placeholder:"Night",handleInputChange:t,size:3,value:c.night}),l.a.createElement(p,{labelFor:"imc",label:"imc",name:"imc",type:"text",inputId:"imcInput",inputClass:"addFlightInput",placeholder:"IMC",handleInputChange:t,size:3,value:c.imc}),l.a.createElement(p,{labelFor:"hood",label:"hood",name:"hood",type:"text",inputId:"hoodInput",inputClass:"addFlightInput",placeholder:"Hood",handleInputChange:t,size:3,value:c.hood})),l.a.createElement("div",{className:"timesDivRow2"},l.a.createElement(p,{labelFor:"pic",label:"pic",name:"pic",type:"text",inputId:"picInput",inputClass:"addFlightInput",placeholder:"PIC",handleInputChange:t,size:3,value:c.pic}),l.a.createElement(p,{labelFor:"sic",label:"sic",name:"sic",type:"text",inputId:"sicInput",inputClass:"addFlightInput",placeholder:"SIC",handleInputChange:t,size:3,value:c.sic}),l.a.createElement(p,{labelFor:"cfi",label:"cfi",name:"cfi",type:"text",inputId:"cfiInput",inputClass:"addFlightInput",placeholder:"CFI",handleInputChange:t,size:3,value:c.cfi}),l.a.createElement(p,{labelFor:"dualI",label:"dual",name:"dualI",type:"text",inputId:"dualInput",inputClass:"addFlightInput",placeholder:"Dual",handleInputChange:t,size:3,value:c.dualI}),l.a.createElement(p,{labelFor:"solo",label:"solo",name:"solo",type:"text",inputId:"soloInput",inputClass:"addFlightInput",placeholder:"Solo",handleInputChange:t,size:3,value:c.solo}))),l.a.createElement("div",{className:"btnWrapper"},l.a.createElement(m,{text:o,btnId:"createFlightBtn",className:"formBtn",handleClick:a})))))},U=(a(111),function(e){var t=e.openModal,a=e.flights,r=Object(n.useState)(),c=Object(d.a)(r,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){o(!0)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Y.a,{in:i,timeout:2e3,className:"enter",unmountOnExit:!0},l.a.createElement("div",{className:"table"},l.a.createElement("div",{className:"tableHeader"},!!a.length&&Object.keys(a[0]).filter((function(e){return"id"!==e})).map((function(e,t){return l.a.createElement("h5",{key:t,className:"col"+t,name:e},e)}))),l.a.createElement("div",{className:"tableBody"},!!a.length&&a.map((function(e,a){return l.a.createElement("div",{key:a+"-row",id:e.id,className:"tableCol",onClick:t},l.a.createElement("div",{className:"dateCol",id:e.id},e.Date),l.a.createElement("div",{className:"aircraftCol",id:e.id},e.Aircraft),l.a.createElement("div",{className:"routeCol",id:e.id},e.Route),l.a.createElement("div",{className:"commentsCol",id:e.id},e.Comments),l.a.createElement("div",{className:"totalCol",id:e.id},e.Total))}))))))}),Z=(a(112),function(e){var t=e.handleClick,a=e.openEdit,n=e.deleteBtn,r=e.results;return l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modalContent"},l.a.createElement(m,{btnClass:"modalBtn",btnId:"closeModal",text:"X",handleClick:t}),l.a.createElement("ul",{className:"modalUl"},l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Date:")," ",r.date),!!r["Aircraft.tailNumber"]&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Aircraft:")," ",r["Aircraft.tailNumber"]),!!r.route&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Route:")," ",r.route),!!r.flightNum&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Flight Number")," ",r.flightNum),!!r.landings&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Landings:")," ",r.landings),!!r.imc&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"IMC:")," ",r.imc),!!r.hood&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Hood:")," ",r.hood),!!r.iap&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"IAP:")," ",r.iap),!!r.holds&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Holds:")," ",r.holds),!!r.pic&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"PIC:")," ",r.pic),!!r.sic&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"SIC:")," ",r.sic),!!r.cfi&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"CFI:")," ",r.cfi),!!r.dualI&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Dual:")," ",r.cfi),!!r.cxt&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Cross Country:")," ",r.cxt),!!r.solo&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Solo:")," ",r.solo),!!r.total&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Total:")," ",r.total),!!r.dayLdg&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Day Landings:")," ",r.dayLdg),!!r.night&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Night:")," ",r.night),!!r.nightLdg&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Night Landings:")," ",r.nightLdg),!!r.instructor&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Instructor:")," ",r.instructor),!!r.student&&l.a.createElement("li",{className:"modalLi"},l.a.createElement("strong",null,"Student:")," ",r.student)),l.a.createElement(m,{text:"Edit",btnId:"editBtn",className:"editAndDeleteBtns",handleClick:function(){return a(r.id)}}),l.a.createElement(m,{text:"Delete",btnId:"deleteBtn",className:"editAndDeleteBtns",handleClick:function(){return n(r.id)}})))}),K=a(44),q=function(e){var t=e.totals,a={xCountry:t.cxt,pic:t.pic,sic:t.sic,cfi:t.cfi,dualI:t.dualI,solo:t.solo,total:t.total,night:t.night},n={PIC:t.pic,SIC:t.sic,CFI:t.cfi,"Dual I":t.dualI},r={labels:Object.keys(a),datasets:[{label:"Hours",backgroundColor:"rgba(255,255,255,.8)",borderColor:"rgba(0,26,200,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:Object.values(a)}]},c={labels:Object.keys(n),datasets:[{data:Object.values(n),backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]};return l.a.createElement("div",null,l.a.createElement("h2",null,"Totals"),l.a.createElement(K.Bar,{data:r,options:{maintainAspectRatio:!0}}),l.a.createElement("h2",null,"Pilot Times"),l.a.createElement(K.Pie,{data:c}))},J=(a(206),function(e){var t=e.totals;return l.a.createElement("div",{className:"totalsList"},l.a.createElement(q,{totals:t}),l.a.createElement("ul",null,!!t.cxt&&l.a.createElement("li",null,l.a.createElement("strong",null,"Cross Country")," ",t.cxt),!!t.night&&l.a.createElement("li",null,l.a.createElement("strong",null,"Night")," ",t.night),!!t.imc&&l.a.createElement("li",null,l.a.createElement("strong",null,"IMC")," ",t.imc),!!t.hood&&l.a.createElement("li",null,l.a.createElement("strong",null,"Simulated Instrument")," ",t.hood),!!t.iap&&l.a.createElement("li",null,l.a.createElement("strong",null,"Instrument Approaches")," ",t.iap),!!t.holds&&l.a.createElement("li",null,l.a.createElement("strong",null,"Holds")," ",t.holds),!!t.dayLdg&&l.a.createElement("li",null,l.a.createElement("strong",null,"Day Landings")," ",t.dayLdg),!!t.nightLdg&&l.a.createElement("li",null,l.a.createElement("strong",null,"Night Landings")," ",t.nightLdg),!!t.solo&&l.a.createElement("li",null,l.a.createElement("strong",null,"Solo")," ",t.solo),!!t.dualI&&l.a.createElement("li",null,l.a.createElement("strong",null,"Instruction Received")," ",t.dualI),!!t.pic&&l.a.createElement("li",null,l.a.createElement("strong",null,"PIC")," ",t.pic),!!t.sic&&l.a.createElement("li",null,l.a.createElement("strong",null,"SIC")," ",t.sic),!!t.cfi&&l.a.createElement("li",null,l.a.createElement("strong",null,"CFI")," ",t.cfi),!!t.total&&l.a.createElement("li",null,l.a.createElement("strong",null,"Total")," ",t.total)))}),V=Object(n.createContext)({userId:""}),G=a(9),X=a.n(G),$=(a(207),function(e){var t=e.handleClick,a=e.handleReset,n=e.handleFormInput,r=e.value;return l.a.createElement("div",null,l.a.createElement("h2",null,"Enter date range for flights"),l.a.createElement("div",{className:"searchDiv"},l.a.createElement(p,{labelFor:"startDate",label:"startDate",name:"startDate",type:"date",inputId:"startDate",inputClass:"searchDates",placeholder:"Enter ICAO Identifier",handleInputChange:n,onChange:n,value:r.startDate}),l.a.createElement(p,{labelFor:"endDate",label:"endDate",name:"endDate",type:"date",inputId:"endDate",inputClass:"searchDates",placeholder:"Enter ICAO Identifier",handleInputChange:n,onChange:n,value:r.endDate}),l.a.createElement(m,{text:"Search",btnId:"search",className:"searchBtn",handleClick:t}),l.a.createElement(m,{text:"Reset",btnId:"reset",className:"searchBtn",handleClick:a})))}),Q=(a(208),[]),ee=[],te=!1,ae=function(){var e,t=Object(n.useState)({open:!1,btnClicked:"",fullResults:[],mapped:[],mappedOriginal:[],totals:[]}),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)((e={date:X()().format("YYYY-MM-D"),total:"",crossCountry:"",night:"",arrTime:"",depTime:"",cfi:"",comments:"",dayLdg:"",dualI:"",route:"",flightNum:"",holds:"",hood:"",iap:"",imc:"",instructor:"",landings:"",nightLdg:"",pic:"",sic:"",solo:"",student:""},Object(u.a)(e,"total",""),Object(u.a)(e,"cxt",""),Object(u.a)(e,"aircraftId",""),Object(u.a)(e,"aircraftType",""),Object(u.a)(e,"aircraftList",[]),Object(u.a)(e,"startDate",""),Object(u.a)(e,"endDate",""),Object(u.a)(e,"Aircraft.tailNumber",""),e)),o=Object(d.a)(i,2),p=o[0],h=o[1],f=Object(n.useState)({open:!1,values:[]}),g=Object(d.a)(f,2),E=g[0],F=g[1],x=Object(n.useState)({userId:""}),D=Object(d.a)(x,2),L=D[0],T=D[1];Object(n.useEffect)((function(){w(),k().then((function(e){T({userId:e.data.id})})).catch((function(e){console.error(e)})),H()}),[]);var w=function(){C().then((function(e){var t=e.data.map((function(e){return{Date:e.date,Aircraft:e["Aircraft.tailNumber"],Route:e.route,Comments:e.comments,Total:e.total,id:e.id}}));c((function(a){return Object(s.a)(Object(s.a)({},a),{},{fullResults:e.data,mappedOriginal:t,mapped:t})}))})).catch((function(e){console.log(e),window.location.href="/"}))},B=function(e){h((function(t){return Object(s.a)(Object(s.a)({},t),{},{AircraftId:e.value})}))},M=function(e){e.preventDefault();var t=X.a.utc(p.startDate),a=X.a.utc(p.endDate).format("x"),n=r.mappedOriginal.filter((function(e){return X.a.utc(e.Date).format("x")>=t&&X.a.utc(e.Date).format("x")<=a}));c((function(e){return Object(s.a)(Object(s.a)({},e),{},{mapped:n})}))},R=function(e){c((function(e){return Object(s.a)(Object(s.a)({},e),{},{mapped:e.mappedOriginal})}))},_=function(e){var t=e.target,a=t.value,n=t.name;h((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},n,a))}))},H=function(){b().then((function(e){for(var t=e.data,a=[],n=[],l=0;l<t.length;l++)n.includes(t[l].AircraftId)||null!=t[l]["Aircraft.tailNumber"]&&(a.push(t[l]),n.push(t[l].AircraftId));var r=a.map((function(e){return{value:e.AircraftId,label:e["Aircraft.tailNumber"]+" "+e["Aircraft.AircraftModel.description"]}})).sort((function(e,t){return e.label>t.label?1:t.label>e.label?-1:0}));h((function(e){return Object(s.a)(Object(s.a)({},e),{},{aircraftList:r})}))}))},Y=function(){var e=Object(z.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),void 0!==p.route&&void 0!==p.depTime&&void 0!==p.arrTime){e.next=3;break}return e.abrupt("return",alert("Need to fill in Route, Departure Time and Arrival Time"));case 3:return e.next=5,K();case 5:return e.next=7,ae();case 7:return e.next=9,le();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(z.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=p.route.split(" "),a=0;case 2:if(!(a<t.length)){e.next=8;break}return e.next=5,q(t[a]);case 5:a++,e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function q(e){return G.apply(this,arguments)}function G(){return(G=Object(z.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).then(function(){var e=Object(z.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,n=Object.values(a[0]),Q.push(parseFloat(n[8],10),parseFloat(n[9],10));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(console.error);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(){var e=Object(z.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=-1,a=0;a<Q.length/2;a+=2)t++,ne(Q[a],Q[a+1],Q[a+2],Q[a+3]),ee[t]>50&&(te=!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(z.a)(S.a.mark((function e(t,a,n,l){var r,c,i,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:3440.07,t*=Math.PI/180,a*=Math.PI/180,n*=Math.PI/180,l*=Math.PI/180,r=l-a,c=Math.pow(Math.cos(n)*Math.sin(r),2)+Math.pow(Math.cos(t)*Math.sin(n)-Math.sin(t)*Math.cos(n)*Math.cos(r),2),i=Math.sin(t)*Math.sin(n)+Math.cos(t)*Math.cos(n)*Math.cos(r),o=Math.atan2(Math.sqrt(c),i),ee.push(3440.07*o);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n,l){return e.apply(this,arguments)}}(),le=function(){var e=Object(z.a)(S.a.mark((function e(){var t,a,n,l,r,c,i,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1,!1,t="",a="",0,l=X.a.utc(p.date),r=l._i,c=p.depTime,i=p.arrTime,"Invalid Date"==new Date(c)?(t=X.a.utc(r+" "+c),!0):t=X.a.utc(c),"Invalid Date"==new Date(i)?(a=X.a.utc(r+" "+i+":00Z"),!0):a=X.a.utc(i),o=X.a.duration(a.diff(t)),n=se(o._milliseconds),ce(t,a,n);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=[];function ce(e,t,a){return ie.apply(this,arguments)}function ie(){return(ie=Object(z.a)(S.a.mark((function e(t,a,n){var l,r,c,i,o,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Q.length,console.log(),e.next=4,oe(t,Q[0],Q[1]);case 4:return e.next=6,oe(a,Q[r-2],Q[r-1]);case 6:c=re[1],i=re[2],o=re[5],u=re[6],console.log("dep ",c," depart ",t),(l=t.isBefore(c)&&a.isBefore(o)||t.isAfter(i)&&a.isAfter(u)?n:t.isBefore(c)&&a.isAfter(o)?se(X.a.duration(c.diff(t))):t.isBefore(i)&&a.isAfter(u)?se(a-u):0)>n&&(l=n),console.log(l),h((function(e){return Object(s.a)(Object(s.a)({},e),{},{total:n,cxt:te?n:0,night:l})}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,a){return ue.apply(this,arguments)}function ue(){return(ue=Object(z.a)(S.a.mark((function e(t,a,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,a,n).then((function(e){var t=e.data,a=X.a.utc(t.dawn),n=X.a.utc(t.sunrise),l=X.a.utc(t.sunset),r=X.a.utc(t.dusk);re.push(a,n,l,r)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){var t=e,a=Math.floor(t/1e3/60/60),n=(t-=1e3*a*60*60)/1e3/60/60;return t-=1e3*n*60,t-=1e3*Math.floor(t/1e3),(a+n).toFixed(2)}var de=function(e){var t={};Object.keys(p).forEach((function(e){t[e]=p[e]?p[e]:null})),e.preventDefault(),O({date:t.date,route:t.route,comments:p.comments,flightNum:t.flightNum,depTime:t.depTime,arrTime:t.arrTime,landings:t.landings,iap:t.iap,cxt:t.cxt,holds:t.holds,dayLdg:t.dayLdg,nightLdg:t.nightLdg,total:t.total,night:t.night,imc:t.imc,hood:t.hood,pic:t.pic,sic:t.sic,cfi:t.cfi,dualI:t.dualI,solo:t.solo,UserId:L.userId,AircraftId:t.AircraftId}).then((function(e){console.log("logFlight data: ",e),pe(),w()})).catch((function(e){return console.log(e)}))},me=function(e){e.preventDefault();var t={};Object.keys(p).forEach((function(e){t[e]=p[e]?p[e]:null})),y(E.values.id,{date:t.date,route:t.route,comments:p.comments,flightNum:t.flightNum,depTime:t.depTime,arrTime:t.arrTime,landings:t.landings,iap:t.iap,cxt:t.cxt,holds:t.holds,dayLdg:t.dayLdg,nightLdg:t.nightLdg,total:t.total,night:t.night,imc:t.imc,hood:t.hood,pic:t.pic,sic:t.sic,cfi:t.cfi,dualI:t.dualI,solo:t.solo,UserId:L.userId,AircraftId:t.AircraftId,"Aircraft.tailNumber":t["Aircraft.tailNumber"]}).catch((function(e){return console.error(e)})),pe(),w()},pe=function(){h((function(e){return Object(s.a)(Object(s.a)({},e),{},{date:X()().format("YYYY-MM-D"),total:"",crossCountry:"",night:"",arrTime:"",depTime:"",cfi:"",comments:"",dayLdg:"",dualI:"",route:"",flightNum:"",holds:"",hood:"",iap:"",imc:"",instructor:"",landings:"",nightLdg:"",pic:"",sic:"",solo:"",student:"",tailNumber:"",cxt:"",aircraftId:"","Aircraft.tailNumber":""})}))},he=function(e){var t=e.target;c((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!e.open,btnClicked:t.id})}))};return l.a.createElement(V.Provider,{value:L},l.a.createElement("div",null,E.open&&!!E.values&&l.a.createElement(Z,{key:E.values.id,results:E.values,openEdit:function(e){var t=r.fullResults.find((function(t){return parseInt(t.id)===e})),a={};console.log("selected",t),t&&(Object.keys(p).forEach((function(e){a[e]=t[e]})),h(a),H(),console.log(p),F((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!E.open})})),c(Object(s.a)(Object(s.a)({},r),{},{open:!0,btnClicked:"editBtn"})),window.scrollTo(0,0))},deleteBtn:function(e){N(e).then(w()).catch((function(e){return console.log(e)})),F((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!E.open})}))},handleClick:function(e){e.preventDefault(),F((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!E.open})}))}}),l.a.createElement(P,null),l.a.createElement("div",{className:"menuDiv"},l.a.createElement(m,{text:"Add Flight",btnId:"addFlightBtn",btnClass:"menuBtn",handleClick:he}),l.a.createElement(m,{text:"Search",btnId:"searchBtn",btnClass:"menuBtn",handleClick:he}),l.a.createElement(m,{text:"Totals",btnId:"totalsBtn",btnClass:"menuBtn",handleClick:function(e){he(e),j().then((function(e){var t=e.data;c((function(e){return Object(s.a)(Object(s.a)({},e),{},{totals:t[0]})}))})).catch((function(e){return console.error(e)}))}}),l.a.createElement(m,{text:"Logout",btnId:"logout",btnClass:"menuBtn",handleClick:function(e){e.preventDefault(),console.log("logout"),console.log(r.btnClicked),A().then(window.location.href="/").catch((function(e){return console.error(e)}))}})),l.a.createElement("div",{className:"formDiv"},r.open?function(e){switch(e){case"addFlightBtn":return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{handleFormInput:_,handleClick:Y,handleAddFlight:de,setAircraft:B,value:p,text:"Add Flight"}));case"totalsBtn":return l.a.createElement(J,{totals:r.totals});case"searchBtn":return l.a.createElement($,{handleFormInput:_,handleClick:M,handleReset:R,value:p});case"editBtn":return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{handleFormInput:_,handleClick:Y,handleAddFlight:me,setAircraft:B,value:p,text:"Update Flight"}));default:return null}}(r.btnClicked):null),l.a.createElement("main",null,l.a.createElement(U,{openModal:function(e){e.preventDefault();var t=e.target;F((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!E.open,values:r.fullResults.find((function(e){return parseInt(e.id)===parseInt(t.id)}))})}))},flights:r.mapped}))))},ne=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(d.a)(c,2),o=i[0],u=i[1];Object(n.useEffect)((function(){a&&o&&u(!1)}),[a]);var s=function(){var e=Object(z.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a){e.next=3;break}return e.abrupt("return",u(!0));case 3:try{D({studentEmail:a}).then((function(e){e.data[0]?k({}).then((function(t){w({instructorID:t.data.id,studentID:e.data[0].id}).then((function(a){a.data[0]?console.log("You already have access to this student"):T({email:e.data[0].email,ID:e.data[0].id,user:t})}))})).catch((function(e){return console.log(e)})):console.log("This student needs to create an account first")}))}catch(n){console.error(n)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("main",null,l.a.createElement("form",{onSubmit:s},l.a.createElement(p,{type:"text",id:"student-email-input",placeholder:"Student Email",label:"Student Email",handleInputChange:function(e){var t=e.target.value;return r(t)}}),l.a.createElement("button",{id:"add-student",type:"submit"},"Add Student")),o&&l.a.createElement("div",null,"Please enter a valid email")))},le=(a(209),function(e){var t=e.aircraft;return l.a.createElement("div",{className:"tableBody"},!!t.length&&t.map((function(e,t){return l.a.createElement("div",{key:t+"-row",id:e.id,className:"tableRow"},l.a.createElement("div",{className:"aircraft",id:e.id},e.tailNumber," ",e.description))})))}),re=(a(210),function(e){var t=e.addT,a=e.setAircraft,n=e.value,r=e.handleFormInput;return l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("h4",{className:"header"},"Aircraft Information"),l.a.createElement("div",{className:"inputDiv"},l.a.createElement(p,{labelFor:"tailNumber",label:"tailNumber",name:"tailNumber",type:"tailNumber",inputId:"tailNumber",inputClass:"addFlightInput",placeholder:"Tail Number",handleInputChange:r}),l.a.createElement(H.a,{options:n.allModels,labelFor:"aircraftType",label:"Aircraft Type",name:"aircraftType",inputId:"aircraftTypeInput",inputClass:"addFlightInput dropdown",onChange:a})),l.a.createElement("div",{className:"btnWrapper"},l.a.createElement(m,{text:"Add Airplane",btnId:"createAircraftBtn",className:"formBtn",handleClick:t}))))}),ce=function(){var e=Object(n.useState)({open:!1,btnClicked:"",userCurrentAircraft:[],tailNumber:"",modelId:0}),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({userId:""}),i=Object(d.a)(c,2),o=i[0];i[1];Object(n.useEffect)((function(){h(),p()}),[]);var p=function(){E().then((function(e){var t=e.data.map((function(e){return{value:e.id,label:e.manufacture_code+" "+e.description+" "+e.category_class}}));r((function(e){return Object(s.a)(Object(s.a)({},e),{},{allModels:t})}))}))},h=function(){b().then((function(e){for(var t=e.data,a=[],n=[],l=0;l<t.length;l++)n.includes(t[l].AircraftId)||null!=t[l]["Aircraft.tailNumber"]&&(a.push(t[l]),n.push(t[l].AircraftId));var c=a.map((function(e){return{id:e.AircraftId,modelId:e["Aircraft.AircraftModel.id"],tailNumber:e["Aircraft.tailNumber"],description:e["Aircraft.AircraftModel.description"],category_class:e["Aircraft.AircraftModel.category_class"]}})).sort((function(e,t){return e.tailNumber>t.tailNumber?1:t.tailNumber>e.tailNumber?-1:0}));r((function(e){return Object(s.a)(Object(s.a)({},e),{},{userCurrentAircraft:c})}))})).catch(console.error)},f=function(e){var t=e.target,a=t.value,n=t.name;r((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},n,a))}))},v=function(e){e.preventDefault(),g({tailNumber:a.tailNumber,AircraftModelId:a.modelId}).then((function(e){console.log(a),console.log(e)})).catch(console.error)},I=function(e){r((function(t){return Object(s.a)(Object(s.a)({},t),{},{modelId:e.value})}))};return l.a.createElement(V.Provider,{value:o},l.a.createElement(P,null),l.a.createElement("div",{className:"menuDiv"},l.a.createElement(m,{text:"Add Aircraft",btnId:"Addaircraft",btnClass:"menuBtn",handleClick:function(e){var t=e.target;r((function(e){return Object(s.a)(Object(s.a)({},e),{},{open:!e.open,btnClicked:t.id})}))}})),l.a.createElement("div",{className:"formDiv"},a.open?function(e){switch(e){case"Addaircraft":return l.a.createElement(l.a.Fragment,null,l.a.createElement(re,{handleFormInput:f,addT:v,value:a,setAircraft:I}));case"modelBtn":break;default:return null}}(a.btnClicked):null),l.a.createElement(le,{aircraft:a.userCurrentAircraft}))},ie=(a(73),function(e){var t=e.handleClick,a=e.handleFormInput;return l.a.createElement("div",null,l.a.createElement("div",{className:"inputDiv"},l.a.createElement(p,{labelFor:"airport",label:"airport",name:"airport",type:"airport",inputId:"airport",inputClass:"addFlightInput",placeholder:"Enter ICAO Identifier",handleInputChange:a,onChange:a}),l.a.createElement(m,{text:"Find Airport",btnId:"viewAirport",className:"formBtn",handleClick:t})))}),oe=a(77),ue=(a(212),function(e){return{scaleControl:!0,gestureHandling:"greedy",disableDoubleClickZoom:!0,minZoom:11,maxZoom:17,mapTypeControl:!0,mapTypeId:e.MapTypeId.SATELLITE,mapTypeControlOptions:{style:e.MapTypeControlStyle.HORIZONTAL_BAR,position:e.ControlPosition.BOTTOM_CENTER,mapTypeIds:[e.MapTypeId.ROADMAP,e.MapTypeId.SATELLITE,e.MapTypeId.HYBRID]},zoomControl:!0}}),se=function(e){var t=e.location,a=e.zoomLevel;return l.a.createElement("div",null,l.a.createElement("div",{style:{height:"50vh",width:"100%"}},l.a.createElement(oe.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).key},center:t,zoom:a,options:ue})))},de=function(){var e=Object(n.useState)({open:0,btnClicked:"",userCurrentAircraft:[],airport:"",modelId:0,google:""}),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({userId:""}),i=Object(d.a)(c,2),o=i[0];i[1];return l.a.createElement(V.Provider,{value:o},l.a.createElement(P,null),l.a.createElement("div",{className:"menuDiv"},l.a.createElement(ie,{handleFormInput:function(e){var t=e.target,a=t.value;t.name;r((function(e){return Object(s.a)(Object(s.a)({},e),{},{airport:a})}))},handleClick:function(){v({airport:a.airport}).then((function(e){var t=e.data.map((function(e){return{icao:e.icao,name:e.name,iata:e.iata,city:e.city,state:e.state,country:e.country,lat:e.lat,long:e.lon,elevation:e.elevation}}));console.log(t),r((function(e){return Object(s.a)(Object(s.a)({},e),{},{airportInfo:t,open:!0})}))})).catch(console.error)},value:a})),l.a.createElement("div",{className:"formDiv"},a.open?function(e){if(0===e.length)return l.a.createElement("div",{className:"airport"},l.a.createElement("h1",null,"No Airport Found. Try again. "));var t=[];return t.push(parseFloat(e[0].lat,10),parseFloat(e[0].long,10)),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"airport"},l.a.createElement("h1",null,e[0].name),l.a.createElement("h2",null,e[0].city+" "+e[0].state+" "+e[0].country),l.a.createElement("h2",null,"Elevation: ",e[0].elevation)),l.a.createElement("div",null,l.a.createElement(se,{location:t,zoomLevel:13})))}(a.airportInfo):l.a.createElement("div",{className:"airport"},l.a.createElement("h1",null,"Search for an airport by ICAO code"))))},me=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",null,l.a.createElement("h1",null,"My Profile Coming Soon")))},pe=function(e){return L({key:e.match.params.key,ID:e.match.params.studentID}),console.log("validate.js line 26-key",e.match.params.key),console.log("validate.js line 27-ID",e.match.params.studentID),l.a.createElement("h1",null,"Your connection to this user has been verified! You can now close this tab.")};a(213);var he=function(){return l.a.createElement(i.a,null,l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/",component:B}),l.a.createElement(o.a,{exact:!0,path:"/logbook",component:ae}),l.a.createElement(o.a,{exact:!0,path:"/training",component:ne}),l.a.createElement(o.a,{exact:!0,path:"/Aircraft",component:ce}),l.a.createElement(o.a,{exact:!0,path:"/Airports",component:de}),l.a.createElement(o.a,{exact:!0,path:"/myProfile",component:me}),l.a.createElement(o.a,{exact:!0,path:"/redirect/:key/:studentID",component:pe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){},74:function(e,t,a){e.exports=a.p+"static/media/logoSmall.80f51e00.png"},80:function(e,t,a){e.exports=a(214)},85:function(e,t,a){},86:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.34f394d9.chunk.js.map